<!DOCTYPE html>
<meta charset="UTF-8">
<script>
    const foo = (text) => {
        text = text.replace(/;a/g, "ä");
        text = text.replace(/;e/g, "ë");
        text = text.replace(/;u/g, "ü");
        text = text.replace(/;o/g, "ö");
        text = text.replace(/;t/g, "þ");
        text = text.replace(/;d/g, "ð");
        text = text.replace(/æa/g, "ä");
        text = text.replace(/æe/g, "ë");
        text = text.replace(/æu/g, "ü");
        text = text.replace(/æo/g, "ö");

        text = text.replace(/;A/g, "Ä");
        text = text.replace(/;E/g, "Ë");
        text = text.replace(/;U/g, "Ü");
        text = text.replace(/;O/g, "Ö");
        text = text.replace(/;T/g, "Þ");
        text = text.replace(/;D/g, "Ð");
        text = text.replace(/æA/g, "Ä");
        text = text.replace(/æE/g, "Ë");
        text = text.replace(/æU/g, "Ü");
        text = text.replace(/æO/g, "Ö");

        text = text.split(" ").map((word) => {
            if (word.match(/-.+#/) && !word.match(/\//)) {
                const suffix = word.replace(/#/, "").trim();
                word = `${suffix}/${
                    suffix
                    .replace(/a/g, "ä")
                    .replace(/e/g, "ë")
                    .replace(/u/g, "ü")
                    .replace(/o/g, "ö")
                    .replace(/A/g, "Ä")
                    .replace(/E/g, "Ë")
                    .replace(/U/g, "Ü")
                    .replace(/O/g, "Ö")}`
            } else if (word.match(/[äëüöÄËÜÖ]/) && !word.match(/\//)) {
                word = word.replace(/a/g, "ä");
                word = word.replace(/e/g, "ë");
                word = word.replace(/u/g, "ü");
                word = word.replace(/o/g, "ö");
                word = word.replace(/A/g, "Ä");
                word = word.replace(/E/g, "Ë");
                word = word.replace(/U/g, "Ü");
                word = word.replace(/O/g, "Ö");
            }
            return word;
        }).join(" ");
        return text
    }
</script>
<textarea id="foo" onkeyup="document.getElementById('foo').value = foo(document.getElementById('foo').value)" rows="10"
    cols="40">

</textarea>
<br>
ウムラウトは、語の最初の母音の前にセミコロン（;）を打つ。そうすると残りは勝手に母音調和する。
<br>
;t や ;d と打つと þ と ð。
<br>アイスランドキーボードで þ と ð を打っている場合、; の代わりに æ を打ってもよい。<br>
Äðüsöölü koohu sööläðävä. と打つには、 ;A;dusoolu koohu s;oola;dava. と打てば良い。<br>
あと、-で始まり#で終わるやつは特殊扱いされ、-eiumome# と打つと -eiumome/-ëiümömë に展開される。
